@page "/pager"

<ul class="pagination">
    <li class="page-item">
        @if (CurrentPage > 1)
        {
        <a class="page-link" href="javascript:;" onclick="@(e => ChangePage(CurrentPage - 1))">&laquo;</a>
        }
        else
        {
        <span class="page-link">&laquo;</span>
        }
    </li>
    @for (var i = 1; i <= PageCount; i++)
    {
        var p = i;
        @if (i == CurrentPage)
        {
        <li class="page-link active"><span class="page-link">@i</span></li>
        }
        else
        {
        <li class="page-link"><a class="page-link" href="javascript:;" onclick="@(e => ChangePage(p))">@i</a></li>
        }
    }
    <li class="page-item">
        @if (CurrentPage < PageCount)
        {
        <a class="page-link" href="javascript:;" onclick="@(e => ChangePage(CurrentPage + 1))">&raquo;</a>
        }
        else
        {
        <span class="page-link">&raquo;</span>
        }
    </li>
</ul>

@functions {
    public int CurrentPage { get; set; }
    public int PageCount { get; set; }
    public Action<int> PageChanged { get; set; }

    protected void ChangePage(int newPage)
    {
        CurrentPage = newPage;
        PageChanged(newPage);
    }
}
